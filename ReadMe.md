## 转发消息组成

| code    | data  |
|---------|-------|
| 指明消息的类型 | 消息的内容 |

## 代码对应意义

| code | data             | info   |
|------|------------------|--------|
| 0    | 连接消息，携带要进行连接的用户名 | 客户=>服务 |
| 1    | 群发消息，携带消息内容      | 客户=>客户 |
| 2    | 断连消息，携带要进行断连的用户名 | 客户=>服务 |
| 3    | 失败消息，携带连接失败的用户名  | 服务=>客户 |
| 4    | 成功消息，携带连接成功的用户名  | 服务=>客户 |
| 5    | 广播消息，携带要广播的消息内容  | 服务=>客户 |
| 6    | 失败确认，携带连接失败的用户名  | 客户=>服务 |
| 7    | 成功确认, 携带连接成功的用户名 | 客户=>服务 |
| 8    | 私聊消息，携带消息内容      | 客户=>客户 |
| 9    | 更新消息，携带所有在线用户名   | 服务=>客户 |

## 用户连接流程

1.客户端向服务端发送携带用户名的连接消息。  
2.服务端收到连接消息对用户名进行查验。查验成功广播上线消息，查验失败广播失败消息  
3.用户端若收到失败消息，检查消息中的用户名是否与自己的用户名匹配，匹配成功则向服务端发布断连消息
![login.jpg](src%2Fmain%2Fresources%2Fimages%2Flogin.jpg)
